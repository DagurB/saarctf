(this.webpackJsonpsaarcloud=this.webpackJsonpsaarcloud||[]).push([[0],{147:function(e,t,a){},148:function(e,t,a){},158:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),n=a(55),c=a.n(n),i=(a(147),a(148),a(20)),o=a(11),l=a(9),d=a.n(l),u=a(13),b=a(27),h=a(31),p=a(36),j=a(35),m=new(function(){function e(){Object(b.a)(this,e),this.base=void 0,this.featureCache=void 0,this.base=window.location.origin+"/api/"}return Object(h.a)(e,[{key:"rds_register",value:function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.base+"register/rds",{method:"POST",body:JSON.stringify({username:t})});case 2:if(!(a=e.sent).ok){e.next=9;break}return e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.next=12,a.text();case 12:throw e.t1=e.sent,new e.t0(e.t1);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rds_exec",value:function(){var e=Object(u.a)(d.a.mark((function e(t,a,r){var s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.base+"rds/".concat(t,"?token=").concat(encodeURIComponent(a)),e.next=3,fetch(s,{method:"POST",body:r});case 3:if(!(n=e.sent).ok){e.next=10;break}return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 10:return e.t0=Error,e.next=13,n.text();case 13:throw e.t1=e.sent,new e.t0(e.t1);case 15:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"rds_select",value:function(){var e=Object(u.a)(d.a.mark((function e(t,a,r){var s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.base+"rds/".concat(t,"/").concat(r,"/select?token=").concat(encodeURIComponent(a)),e.next=3,fetch(s);case 3:if(!(n=e.sent).ok){e.next=10;break}return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 10:return e.t0=Error,e.next=13,n.text();case 13:throw e.t1=e.sent,new e.t0(e.t1);case 15:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"lambda_register",value:function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.base+"register/lambda",{method:"POST",body:JSON.stringify({username:t})});case 2:if(!(a=e.sent).ok){e.next=9;break}return e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.next=12,a.text();case 12:throw e.t1=e.sent,new e.t0(e.t1);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"lambda_check",value:function(){var e=Object(u.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.base+"lambda/check/"+t+"?token="+encodeURIComponent(a),{method:"POST"});case 2:if(!(r=e.sent).ok){e.next=9;break}return e.next=6,r.json();case 6:return e.abrupt("return",e.sent.ok);case 9:return e.t0=Error,e.next=12,r.text();case 12:throw e.t1=e.sent,new e.t0(e.t1);case 14:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"lambda_write",value:function(){var e=Object(u.a)(d.a.mark((function e(t,a,r){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.base+"lambda/write/"+t+"?token="+encodeURIComponent(a),{method:"POST",body:r,headers:{"Content-Type":"text/javascript"}});case 2:if(!(s=e.sent).ok){e.next=9;break}return e.next=6,s.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.next=12,s.text();case 12:throw e.t1=e.sent,new e.t0(e.t1);case 14:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"saar3_write",value:function(){var e=Object(u.a)(d.a.mark((function e(t,a,r,s){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.base+"cdn/write/"+t+"/"+encodeURIComponent(r)+"?token="+encodeURIComponent(a),{method:"POST",body:s,headers:{"Content-Type":"text/javascript"}});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.next=12,n.text();case 12:throw e.t1=e.sent,new e.t0(e.t1);case 14:case"end":return e.stop()}}),e,this)})));return function(t,a,r,s){return e.apply(this,arguments)}}()},{key:"get_featured",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.featureCache){e.next=2;break}return e.abrupt("return",this.featureCache);case 2:return e.next=4,fetch(this.base+"featured");case 4:if(!(t=e.sent).ok){e.next=11;break}return e.next=8,t.json();case 8:return e.abrupt("return",this.featureCache=e.sent);case 11:return e.t0=Error,e.next=14,t.text();case 14:throw e.t1=e.sent,new e.t0(e.t1);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()),x=a(171),v=a(170),O=a(172),f=a(78),g=a(80),k=a(0);function y(e){return Object(k.jsxs)("div",{children:[Object(k.jsxs)("h1",{className:"ui center aligned header",children:[e.icon&&Object(k.jsx)(g.a,{name:e.icon})," ",e.title||"SaarCloud"]}),Object(k.jsx)("h2",{className:"ui center aligned header",children:e.subtitle||"Hosting on saarl\xe4ndisch clouds"})]})}var w=["wechat","korvue","leanpub","lastfm","viadeo square","apple","strava","blogger b","stack exchange","yelp","studiovinari","youtube square","get pocket","js square","telegram plane","algolia","empire","themeisle","modx","rocketchat","pied piper alternate","vimeo v","youtube","gulp","npm","deviantart","cc visa","node","dropbox","dribbble","codiepie","mizuni","gg","git square","drupal","digg","vimeo square","hips","behance square","angellist","gofore","hotjar","telegram","amilia","glide g","facebook","ember","android","angrycreative","blackberry","aviato","adversal","cc apple pay","mix","js","pied piper","css3","sass","wpexplorer","steam","freebsd","laravel","medapps","medium","cc stripe","superpowers","contao","fonticons","opencart","weixin","font awesome","microsoft","osi","slack","buromobelexperte","periscope","flipboard","affiliatetheme","cc jcb","mixcloud","twitch","product hunt","behance","uikit","whmcs","slack hash","btc","audible","expeditedssl","typo3","tumblr square","fort awesome","earlybirds","500px","erlang","cpanel","houzz","fort awesome alternate","firefox","hacker news square","hooli","app store ios","flickr","vine","deskpro","sellsy","playstation","reddit","accusoft","viber","html5","whatsapp","google plus g","gratipay","facebook messenger","shirtsinbulk","envira","blogger","patreon","jenkins","bimobject","css3 alternate","renren","pushed","vk","wordpress simple","gitkraken","python","wpforms","cc paypal","php","palfed","slideshare","react","dribbble square","google","tumblr","autoprefixer","linode","y combinator","snapchat ghost","viadeo","ns8","viacoin","deploydog","google drive","google plus","gitter","adn","linux","paypal","imdb","edge","yahoo","reddit square","stumbleupon circle","github alternate","font awesome flag","node js","skyatlas","tencent weibo","xing","whatsapp square","staylinked","creative commons","scribd","gripfire","delicious","cloudsmith","twitter square","maxcdn","wikipedia w","apper","foursquare","yandex","vnv","phabricator","xbox","bitbucket","rockrms","phoenix framework","git","tripadvisor","bitcoin","lyft","gitlab","hire a helper","app store","weibo","facebook f","stripe s","napster","resolving","bandcamp","buysellads","discord","cloudversify","sellcast","joomla","grunt","dyalog","odnoklassniki","servicestack","bluetooth","bity","steam square","avianex","internet explorer","google wallet","twitter","first order","sistrix","supple","nutritionix","page4","reddit alien","vuejs","keycdn","itunes note","pied piper pp","black tie","dashcube","ravelry","simplybuilt","draft2digital","elementor","lastfm square","pagelines","steam symbol","uber","github square","etsy","soundcloud","yandex international","uniregistry","fly","opera","openid","bluetooth b","google play","jsfiddle","stumbleupon","font awesome alternate","linkedin","vaadin","asymmetrik","goodreads","free code camp","angular","kickstarter k","forumbee","qq","schlix","optin monster","rebel","cc diners club","replyd","stripe","searchengin","hacker news","itunes","quora","docker","ioxhost","meetup","untappd","cc discover","pinterest p","wpbeginner","ussunnah","vimeo","hubspot","d and d","pinterest","kickstarter","skype","joget","quinscape","rendact","instagram","glide","monero","windows","github","medrt","cloudscale","cc mastercard","linechat","xing square","dochub","sticker mule","digital ocean","google plus square","nintendo switch","trello","speakap","usb","safari","cc amazon pay","redriver","odnoklassniki square","codepen","chrome","apple pay","medium m","yoast","cc amex","pinterest square","grav","linkedin alternate","amazon pay","cuttlefish","discourse","snapchat square","accessible icon","less","firstdraft","gg circle","spotify","wordpress","magento","stack overflow","ethereum","goodreads g","connectdevelop","facebook square","amazon","fonticons fi","centercode","aws","snapchat"],N=["black","teal","violet","grey","black","violet","olive","black","red","teal","purple","blue","brown","pink","purple","black","black","brown","blue","blue","black","pink","red","black","orange","black","purple","green","brown","violet","green","red","purple","blue","brown","purple","pink","brown","violet","black","black","olive","black","green","red","grey","olive","green","yellow","black","black","grey","violet","black","yellow","orange","yellow","black","black","brown","violet","purple","orange","red","violet","blue","black","blue","teal","green","violet","green","black","violet","red"],S=["10/10 would buy again","SaarCloud finally delivers the performance and security we need for our business","By choosing SaarCloud as our preferred cloud provider, we improved our productivity by 20%","We built our main platform on SaarCloud, getting rid of our in-house data center","After migration to SaarCloud, our IT costs dropped by 200%","Using SaarCloud, we provide secure and reliable remote access to our employees","To meet the demands of an increasingly cloud-centric market, we rely on SaarCloud for our IT","We use optimized SaarCloud infrastructure, saving $25,000 monthly","We deliver our SaaS solution from the world's leading cloud platform","To deliver modern, API-driven solutions to our customers, we have chosen SaarCloud as our technology partner","By using SaarCloud storage and computation services, we could save 80% on the cost of our IT operations","Combining artificial intelligence, blockchain and SaarCloud, we will soon be your leading partner for world domination","SaarCloud provides an incredible level of scalability","We migrated our legacy on-premise system to dynamic, serverless hosting by SaarCloud, reducing costs and doubling innovation speed","We increased productivity and streamlined inventory management by building an integrated inventory management application on SaarCloud","By developing a powerful pipeline on SaarCloud, we provide our service 20x faster than traditional methods","SaarCloud powers our business for years now","By migrating to the cloud, we achived 20% annual growth"],C={rds:"SaarRDS",lambda:"SaarLambda",cdn:"Saar3"},q=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).baseUrl=void 0,r.state={sites:[]},r.baseUrl="localhost"===window.location.hostname?"127.1.0.1":window.location.hostname,r.baseUrl.match(/\d+\.\d+\.\d+\.\d+/)&&(r.baseUrl+=".nip.io"),window.location.port&&"80"!==window.location.port&&(r.baseUrl+=":"+window.location.port),r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.get_featured().then((function(t){var a=e.props.type?t[e.props.type]:[].concat(Object(f.a)(t.rds),Object(f.a)(t.lambda),Object(f.a)(t.cdn));a.sort((function(e,t){return t.id-e.id})),e.setState({sites:a})}))}},{key:"urlOfSite",value:function(e){return"http://"+e+"."+this.baseUrl+"/"}},{key:"render",value:function(){var e=this;return Object(k.jsx)("div",{className:"ui relaxed divided list",children:this.state.sites.map((function(t){return Object(k.jsxs)("div",{className:"item",children:[Object(k.jsx)("i",{className:"large middle aligned icon "+w[t.id%w.length]+" "+N[t.id%N.length]}),Object(k.jsxs)("div",{className:"content",children:[Object(k.jsxs)("span",{className:"header",children:[Object(k.jsx)("a",{href:e.urlOfSite(t.name),target:"_blank",rel:"noreferrer",children:t.name}),Object(k.jsx)("span",{style:{fontWeight:"normal"},children:" uses "}),C[t.feature]]}),Object(k.jsx)("div",{className:"description",children:S[t.id%S.length]})]})]})}))})}}]),a}(s.a.Component),L=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(b.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).login=function(){var t=Object(u.a)(d.a.mark((function t(a){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({error:""}),r=a.target,t.prev=3,t.next=6,m.rds_exec(r.dbname.value,r.token.value,"SELECT 1;");case 6:e.setState({redirect:"/saarrds/".concat(r.dbname.value,"/").concat(r.token.value)}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(3),console.error(t.t0),e.setState({error:t.t0+""});case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),e.register=function(){var t=Object(u.a)(d.a.mark((function t(a){var r,s,n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({error:""}),r=a.target,t.prev=3,t.next=6,m.rds_register(r.dbname.value);case 6:s=t.sent,n=s.dbname,c=s.token,e.setState({redirect:"/saarrds/".concat(n,"/").concat(c)}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),console.error(t.t0),e.setState({error:t.t0+""});case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(a,[{key:"render",value:function(){if(this.state&&this.state.redirect)return Object(k.jsx)(o.a,{to:this.state.redirect});var e="";return this.state&&this.state.error&&(e=Object(k.jsx)(x.a,{error:!0,children:this.state.error})),Object(k.jsxs)("div",{children:[Object(k.jsx)(y,{title:"SaarRDS",subtitle:"Your saarl\xe4ndisch relational database system in the cloud",icon:"database"}),e,Object(k.jsxs)("div",{className:"ui two column stackable grid",children:[Object(k.jsx)("div",{className:"column",children:Object(k.jsx)("div",{className:"ui fluid card",children:Object(k.jsxs)("div",{className:"content",children:[Object(k.jsx)("span",{className:"header",children:"Connect to Database"}),Object(k.jsxs)(v.a,{className:"description",onSubmit:this.login,children:[Object(k.jsxs)(v.a.Field,{children:[Object(k.jsx)("label",{children:"Your SaarRDS Database Name"}),Object(k.jsx)("input",{name:"dbname",placeholder:"database name"})]}),Object(k.jsxs)(v.a.Field,{children:[Object(k.jsx)("label",{children:"Your Access Token"}),Object(k.jsx)("input",{name:"token",type:"password"})]}),Object(k.jsx)(O.a,{type:"submit",className:"ui primary button",children:"Login"})]})]})})}),Object(k.jsx)("div",{className:"column",children:Object(k.jsx)("div",{className:"ui fluid card",children:Object(k.jsxs)("div",{className:"content",children:[Object(k.jsx)("span",{className:"header",children:"Create Database"}),Object(k.jsxs)(v.a,{className:"description",onSubmit:this.register,children:[Object(k.jsxs)(v.a.Field,{children:[Object(k.jsx)("label",{children:"Your SaarRDS Database Name"}),Object(k.jsx)("input",{name:"dbname",placeholder:"database name"})]}),Object(k.jsx)(O.a,{type:"submit",className:"ui primary button",children:"Register"})]})]})})})]}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("h2",{className:"ui center aligned header",children:"See what our customers say!"}),Object(k.jsx)("div",{className:"ui segment",children:Object(k.jsx)(q,{type:"rds"})}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{})]})}}]),a}(s.a.Component),R=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).sqlexec=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,r.runsql(r.state.sql);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.runsql=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({error:""}),e.prev=1,e.next=4,m.rds_exec(r.props.match.params.dbname,r.props.match.params.token,t);case 4:a=e.sent,r.setState({data:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),r.setState({error:e.t0+""});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),r.select=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({sql:"SELECT * FROM "+t}),e.next=3,r.runsql("SELECT * FROM "+t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={tables:[],data:null,error:"",sql:""},r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.rds_exec(this.props.match.params.dbname,this.props.match.params.token,"SELECT * FROM sqlite_master WHERE name NOT LIKE 'sqlite_%'").then((function(t){console.log(t),e.setState({tables:t})}))}},{key:"render",value:function(){var e=this,t="";this.state&&this.state.error&&(t=Object(k.jsx)(x.a,{error:!0,children:this.state.error}));var a,r="";if(null!==this.state.data)if(null===(a=this.state.data)||void 0===a?void 0:a.length){var s=Object.keys(this.state.data[0]);r=Object(k.jsxs)("table",{className:"ui celled table",children:[Object(k.jsx)("thead",{children:Object(k.jsx)("tr",{children:s.map((function(e){return Object(k.jsx)("th",{children:e})}))})}),Object(k.jsx)("tbody",{children:this.state.data.map((function(e){return Object(k.jsx)("tr",{children:s.map((function(t){return Object(k.jsx)("td",{children:null===e[t]?Object(k.jsx)("i",{children:"NULL"}):e[t]})}))})}))})]})}else r=Object(k.jsx)("i",{children:"0 rows returned"});var n=window.location.origin+"/api/rds/"+this.props.match.params.dbname,c="?token="+encodeURIComponent(this.props.match.params.token);return Object(k.jsxs)("div",{children:[Object(k.jsx)(y,{title:"SaarRDS",subtitle:"Your saarl\xe4ndisch relational database system in the cloud",icon:"database"}),Object(k.jsxs)("h3",{className:"ui center aligned header",children:['Database "',this.props.match.params.dbname,'"']}),Object(k.jsx)("div",{className:"ui segment",children:Object(k.jsxs)("form",{className:"ui form",children:[Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"Your Database Name:"}),Object(k.jsx)("input",{readOnly:!0,className:"monospace",value:this.props.match.params.dbname})]}),Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"Your Access Token (please save):"}),Object(k.jsx)("input",{readOnly:!0,className:"monospace",value:this.props.match.params.token})]}),Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"API endpoints:"}),Object(k.jsx)("input",{readOnly:!0,className:"monospace",value:"POST "+n+c}),Object(k.jsx)("input",{readOnly:!0,className:"monospace",value:"GET "+n+"/<table>/select"+c}),Object(k.jsx)("input",{readOnly:!0,className:"monospace",value:"POST "+n+"/<table>/insert"+c}),Object(k.jsx)("input",{readOnly:!0,className:"monospace",value:"POST "+n+"/<table>/update"+c}),Object(k.jsx)("input",{readOnly:!0,className:"monospace",value:"POST "+n+"/<table>/delete"+c})]})]})}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),this.state.tables&&Object(k.jsxs)("div",{children:[Object(k.jsx)("h3",{className:"ui center aligned header",children:"Database Content"}),Object(k.jsxs)("ul",{children:[this.state.tables.map((function(t){return Object(k.jsxs)("li",{children:[t.type,": ",Object(k.jsx)("code",{children:t.name})," ","table"===t.type?Object(k.jsx)("button",{className:"ui primary tertiary button",onClick:function(){return e.select(t.name)},children:"(see content)"}):""]})})),!this.state.tables.length&&Object(k.jsx)("i",{children:"This database is empty. Create some tables with the SQL interface below!"})]}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("h3",{className:"ui center aligned header",children:"Execute Queries"}),Object(k.jsxs)("form",{className:"ui form",onSubmit:this.sqlexec,children:[Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"SQL"}),Object(k.jsx)("input",{type:"text",name:"sql",placeholder:"SELECT 1",value:this.state.sql,onChange:function(t){e.setState({sql:t.target.value})}})]}),Object(k.jsx)("button",{className:"ui button primary",type:"submit",children:"Execute!"})]}),t,r]}),Object(k.jsx)("br",{})]})}}]),a}(s.a.Component),_=a(103),T=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(b.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).title="SaarLambda",e.subtitle="Your saarl\xe4ndisch serverless hosting provider",e.type="lambda",e.icon="server",e.login=function(){var t=Object(u.a)(d.a.mark((function t(a){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({error:""}),r=a.target,t.prev=3,t.next=6,m.lambda_check(r.sitename.value,r.token.value);case 6:if(!t.sent){t.next=10;break}e.setState({redirect:"/sites/".concat(r.sitename.value,"/").concat(r.token.value,"/")}),t.next=11;break;case 10:e.setState({error:"Invalid credentials"});case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),console.error(t.t0),e.setState({error:t.t0+""});case 17:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}(),e.register=function(){var t=Object(u.a)(d.a.mark((function t(a){var r,s,n,c,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({error:""}),r=a.target,t.prev=3,t.next=6,m.lambda_register(r.sitename.value);case 6:s=t.sent,n=s.sitename,c=s.token,i=s.log_token,e.setState({redirect:"/sites/".concat(n,"/").concat(c,"/").concat(i)}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),console.error(t.t0),e.setState({error:t.t0+""});case 17:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(a,[{key:"render",value:function(){if(this.state&&this.state.redirect)return Object(k.jsx)(o.a,{to:this.state.redirect});var e="";return this.state&&this.state.error&&(e=Object(k.jsx)(x.a,{error:!0,children:this.state.error})),Object(k.jsxs)("div",{children:[Object(k.jsx)(y,{title:this.title,subtitle:this.subtitle,icon:this.icon}),e,Object(k.jsxs)("div",{className:"ui two column stackable grid",children:[Object(k.jsx)("div",{className:"column",children:Object(k.jsx)("div",{className:"ui fluid card",children:Object(k.jsxs)("div",{className:"content",children:[Object(k.jsx)("span",{className:"header",children:"Login"}),Object(k.jsxs)(v.a,{className:"description",onSubmit:this.login,children:[Object(k.jsxs)(v.a.Field,{children:[Object(k.jsx)("label",{children:"Your Site Name"}),Object(k.jsx)("input",{name:"sitename",placeholder:"sitename"})]}),Object(k.jsxs)(v.a.Field,{children:[Object(k.jsx)("label",{children:"Your Access Token"}),Object(k.jsx)("input",{name:"token",type:"password"})]}),Object(k.jsx)(O.a,{type:"submit",className:"ui primary button",children:"Login"})]})]})})}),Object(k.jsx)("div",{className:"column",children:Object(k.jsx)("div",{className:"ui fluid card",children:Object(k.jsxs)("div",{className:"content",children:[Object(k.jsx)("span",{className:"header",children:"Register Site"}),Object(k.jsxs)(v.a,{className:"description",onSubmit:this.register,children:[Object(k.jsxs)(v.a.Field,{children:[Object(k.jsx)("label",{children:"Your Site Name"}),Object(k.jsx)("input",{name:"sitename",placeholder:"site name"})]}),Object(k.jsx)(O.a,{type:"submit",className:"ui primary button",children:"Register"})]}),Object(k.jsx)("div",{className:"ui message",children:"Your registration will be valid for both SaarLambda and Saar3!"})]})})})]}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("h2",{className:"ui center aligned header",children:"See what our customers say!"}),Object(k.jsx)("div",{className:"ui segment",children:Object(k.jsx)(q,{type:this.type})}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{})]})}}]),a}(s.a.Component),D=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).uploadLambdaScript=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r.setState({error:"",ok:""}),a=t.target,e.prev=3,e.next=6,m.lambda_write(r.props.match.params.sitename,r.props.match.params.token,a.file.files[0]);case 6:r.setState({error:"",ok:"Lambda script successfully uploaded"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0),r.setState({error:e.t0+"",ok:""});case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),r.uploadSaar3File=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r.setState({error:"",ok:""}),a=t.target,e.prev=3,e.next=6,m.saar3_write(r.props.match.params.sitename,r.props.match.params.token,a.filename.value,a.file.files[0]);case 6:r.setState({error:"",ok:"File successfully uploaded to Saar3 CDN"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0),r.setState({error:e.t0+"",ok:""});case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),r.submitLogToken=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=t.target,r.props.match.params.log_token=a.log_token.value,r.setState({});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={},r}return Object(h.a)(a,[{key:"render",value:function(){var e="";this.state&&this.state.error&&(e=Object(k.jsx)(x.a,{error:!0,children:this.state.error}));var t="";this.state&&this.state.ok&&(t=Object(k.jsx)(x.a,{success:!0,children:this.state.ok}));var a=window.location.origin+"/logs?user="+encodeURIComponent(this.props.match.params.sitename)+"&token="+encodeURIComponent(this.props.match.params.log_token),r="localhost"===window.location.hostname?"127.0.0.1":window.location.hostname;return r.match(/\d+\.\d+\.\d+\.\d+/)&&(r+=".nip.io"),window.location.port&&"80"!==window.location.port&&(r+=":"+window.location.port),r="http://"+this.props.match.params.sitename+"."+r+"/",Object(k.jsxs)("div",{children:[Object(k.jsx)(y,{title:"SaarLambda & Saar3",subtitle:"Your saarl\xe4ndisch serverless cloud hosting & content delivery network"}),Object(k.jsxs)("h3",{className:"ui center aligned header",children:['Site "',this.props.match.params.sitename,'"']}),Object(k.jsx)("div",{className:"ui segment",children:Object(k.jsxs)("form",{className:"ui form",children:[Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"Your Site Name / URL:"}),Object(k.jsx)("input",{readOnly:!0,className:"monospace",value:this.props.match.params.sitename})]}),Object(k.jsx)("div",{className:"field",children:Object(k.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",children:r})}),Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"Your Token (please save):"}),Object(k.jsx)("input",{readOnly:!0,className:"monospace",value:this.props.match.params.token})]}),this.props.match.params.log_token&&Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"Your Access Log Token (please save):"}),Object(k.jsx)("input",{readOnly:!0,className:"monospace",value:this.props.match.params.log_token})]}),this.props.match.params.log_token&&Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"Access log endpoint:"}),Object(k.jsx)("input",{readOnly:!0,className:"monospace",value:a})]}),this.props.match.params.log_token&&Object(k.jsx)("div",{className:"field",children:Object(k.jsx)(i.b,{to:"/accesslogs/"+this.props.match.params.sitename+"/"+this.props.match.params.log_token,children:"See Access Logs in real-time"})})]})}),!this.props.match.params.log_token&&Object(k.jsx)("div",{className:"ui segment",children:Object(k.jsxs)("form",{className:"ui form",onSubmit:this.submitLogToken,children:[Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"Your Access Log Token:"}),Object(k.jsx)("input",{name:"log_token",className:"monospace",placeholder:"Please enter your log token"})]}),Object(k.jsx)("button",{className:"ui button primary",type:"submit",children:"Submit"})]})}),Object(k.jsx)("br",{}),e,t,Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"ui segment",children:[Object(k.jsx)("h3",{className:"ui center aligned header",children:"Upload SaarLambda Script"}),Object(k.jsx)("p",{children:"Upload a javascript file that will later respond to requests to your site."}),Object(k.jsxs)("form",{className:"ui form",onSubmit:this.uploadLambdaScript,children:[Object(k.jsx)(v.a.Field,{children:Object(k.jsx)("input",{type:"file",name:"file"})}),Object(k.jsx)("button",{className:"ui button primary",type:"submit",children:"Upload!"})]})]}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"ui segment",children:[Object(k.jsx)("h3",{className:"ui center aligned header",children:"Upload Saar3 File"}),Object(k.jsx)("p",{children:"Upload static files that will be served whenever your SaarLambda script does not respond."}),Object(k.jsxs)("form",{className:"ui form",onSubmit:this.uploadSaar3File,children:[Object(k.jsxs)(v.a.Field,{children:[Object(k.jsx)("label",{children:"Filename"}),Object(k.jsxs)("div",{className:"ui labeled input",children:[Object(k.jsx)("div",{className:"ui label",children:r}),Object(k.jsx)("input",{type:"text",name:"filename",minLength:3,maxLength:64})]})]}),Object(k.jsx)(v.a.Field,{children:Object(k.jsx)("input",{type:"file",name:"file"})}),Object(k.jsx)("button",{className:"ui button primary",type:"submit",children:"Upload!"})]})]}),Object(k.jsx)("br",{})]})}}]),a}(s.a.Component),U=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(b.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).title="Saar3",e.subtitle="Your saarl\xe4ndisch content delivery network",e.type="cdn",e.icon="hdd",e}return a}(T),E=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).socket=null,r.state={logs:[],connected:!1},r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.location.origin.replace("http://","ws://")+"/logs";t+="?user="+encodeURIComponent(this.props.match.params.sitename),t+="&token="+encodeURIComponent(this.props.match.params.log_token),this.socket=new WebSocket(t),this.socket.onmessage=function(t){var a=(new Date).toLocaleString();e.setState((function(e,r){return{logs:[].concat(Object(f.a)(e.logs),[a+" | "+t.data])}}))},this.socket.onerror=function(e){console.log("ERROR",e)},this.socket.onclose=function(t){e.setState({connected:!1})},this.socket.onopen=function(t){e.setState({connected:!0})}}},{key:"componentWillUnmount",value:function(){var e;null===(e=this.socket)||void 0===e||e.close()}},{key:"render",value:function(){var e;return console.log(this.state),Object(k.jsxs)("div",{children:[Object(k.jsx)(y,{title:"SaarLambda & Saar3",subtitle:"Access Logs - "+this.props.match.params.sitename}),Object(k.jsxs)("p",{children:["Access log entries for site ",Object(k.jsx)("code",{children:this.props.match.params.sitename})," will appear here in real time."]}),Object(k.jsx)("div",{className:"ui segment",children:Object(k.jsx)("div",{className:"ui list",children:null===(e=this.state.logs)||void 0===e?void 0:e.map((function(e){return Object(k.jsx)("div",{className:"item",children:Object(k.jsx)("code",{children:e})})}))})}),Object(k.jsx)("br",{}),this.state.connected&&Object(k.jsxs)(_.a,{className:"ui green label",children:[Object(k.jsx)("div",{className:"ui active mini inline inverted indeterminate loader"}),"\xa0connected"]}),!this.state.connected&&Object(k.jsx)(_.a,{children:"disconnected"})]})}}]),a}(s.a.Component);function I(){return Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(y,{icon:"cloud"}),Object(k.jsxs)("div",{className:"ui three column stackable grid",children:[Object(k.jsx)("div",{className:"column",children:Object(k.jsxs)("div",{className:"ui card",children:[Object(k.jsxs)("div",{className:"content",children:[Object(k.jsx)(i.b,{to:"/saarrds",className:"header",children:"SaarRDS"}),Object(k.jsx)("div",{className:"meta",children:"Relational Databases as-a-service!"}),Object(k.jsx)("div",{className:"description",children:"SaarRDS is the leading solution for structured data. Access your data with a common SQL interface, while we manage your databases. SaarRDS is not only your preferred data storage, but also natively integrated with your SaarLambda sites."})]}),Object(k.jsx)("div",{className:"extra content",children:Object(k.jsx)(i.b,{to:"/saarrds",className:"ui primary button",children:"Rent a database!"})})]})}),Object(k.jsx)("div",{className:"column",children:Object(k.jsxs)("div",{className:"ui card",children:[Object(k.jsxs)("div",{className:"content",children:[Object(k.jsx)(i.b,{to:"/saarlambda",className:"header",children:"SaarLambda"}),Object(k.jsx)("div",{className:"meta",children:"Server-less Computation as-a-service!"}),Object(k.jsx)("div",{className:"description",children:"SaarLambda is the leading solution for serverless services hosted in the cloud. Write your website in a common language (Javascript), and we'll host it for you!"})]}),Object(k.jsx)("div",{className:"extra content",children:Object(k.jsx)(i.b,{to:"/saarlambda",className:"ui primary button",children:"Create your project!"})})]})}),Object(k.jsx)("div",{className:"column",children:Object(k.jsxs)("div",{className:"ui card",children:[Object(k.jsxs)("div",{className:"content",children:[Object(k.jsx)(i.b,{to:"/saar3",className:"header",children:"Saar3"}),Object(k.jsx)("div",{className:"meta",children:"Asset Hosting as-a-service!"}),Object(k.jsx)("div",{className:"description",children:"Saar3 is the leading content delivery network, hosting static content of any type for you. Combined with SaarLambda and SaarRDS, you can build modern websites living entirely in the cloud."})]}),Object(k.jsx)("div",{className:"extra content",children:Object(k.jsx)(i.b,{to:"/saar3",className:"ui primary button",children:"Register now!"})})]})})]}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("h2",{className:"ui center aligned header",children:"See what our customers say!"}),Object(k.jsx)("div",{className:"ui segment",children:Object(k.jsx)(q,{})}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{})]})}var A=function(){return Object(k.jsxs)(i.a,{children:[Object(k.jsxs)("div",{className:"ui four item menu inverted huge",children:[Object(k.jsxs)(i.b,{activeClassName:"active",exact:!0,className:"item",to:"/",children:[Object(k.jsx)(g.a,{name:"cloud"})," Home"]}),Object(k.jsxs)(i.b,{activeClassName:"active",className:"item",to:"/saarrds",children:[Object(k.jsx)(g.a,{name:"database"})," SaarRDS"]}),Object(k.jsxs)(i.b,{activeClassName:"active",className:"item",to:"/saarlambda",children:[Object(k.jsx)(g.a,{name:"server"})," SaarLambda"]}),Object(k.jsxs)(i.b,{activeClassName:"active",className:"item",to:"/saar3",children:[Object(k.jsx)(g.a,{name:"hdd"})," Saar3"]})]}),Object(k.jsx)("div",{className:"ui container",children:Object(k.jsxs)(o.d,{children:[Object(k.jsx)(o.b,{exact:!0,path:"/saarrds",children:Object(k.jsx)(L,{})}),Object(k.jsx)(o.b,{path:"/saarrds/:dbname/:token",component:R}),Object(k.jsx)(o.b,{exact:!0,path:"/saarlambda",children:Object(k.jsx)(T,{})}),Object(k.jsx)(o.b,{path:"/sites/:sitename/:token/:log_token",component:D}),Object(k.jsx)(o.b,{path:"/sites/:sitename/:token/",component:D}),Object(k.jsx)(o.b,{exact:!0,path:"/saar3",children:Object(k.jsx)(U,{})}),Object(k.jsx)(o.b,{path:"/accesslogs/:sitename/:log_token",component:E}),Object(k.jsx)(o.b,{exact:!0,path:"/",children:Object(k.jsx)(I,{})})]})})]})};a(157);c.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(A,{})}),document.getElementById("root"))}},[[158,1,2]]]);